{
  "version": 3,
  "sources": ["../../../node_modules/@orama/wc-components/node_modules/.pnpm/@phosphor-icons+webcomponents@2.1.5/node_modules/@phosphor-icons/webcomponents/dist/icons/PhArrowClockwise.mjs", "../../../node_modules/@orama/wc-components/dist/esm/src/components/orama-chat-box/orama-chat-box.scss?tag=orama-chat-box&encapsulation=shadow", "../../../node_modules/@orama/wc-components/dist/esm/src/components/orama-chat-box/orama-chat-box.tsx"],
  "sourcesContent": ["import \"../node_modules/.pnpm/@lit_reactive-element@2.0.4/node_modules/@lit/reactive-element/reactive-element.mjs\";\nimport { svg as e, html as n } from \"../node_modules/.pnpm/lit-html@3.1.4/node_modules/lit-html/lit-html.mjs\";\nimport { LitElement as m } from \"../node_modules/.pnpm/lit-element@4.0.6/node_modules/lit-element/lit-element.mjs\";\nimport { customElement as g } from \"../node_modules/.pnpm/@lit_reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/custom-element.mjs\";\nimport { property as l } from \"../node_modules/.pnpm/@lit_reactive-element@2.0.4/node_modules/@lit/reactive-element/decorators/property.mjs\";\nimport { css as f } from \"../node_modules/.pnpm/@lit_reactive-element@2.0.4/node_modules/@lit/reactive-element/css-tag.mjs\";\nvar w = Object.defineProperty, u = Object.getOwnPropertyDescriptor, o = (a, s, h, i) => {\n  for (var r = i > 1 ? void 0 : i ? u(s, h) : s, p = a.length - 1, c; p >= 0; p--)\n    (c = a[p]) && (r = (i ? c(s, h, r) : c(r)) || r);\n  return i && r && w(s, h, r), r;\n};\nlet t = class extends m {\n  constructor() {\n    super(...arguments), this.size = \"1em\", this.weight = \"regular\", this.color = \"currentColor\", this.mirrored = !1;\n  }\n  render() {\n    var a;\n    return n`<svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${this.size}\"\n      height=\"${this.size}\"\n      fill=\"${this.color}\"\n      viewBox=\"0 0 256 256\"\n      transform=${this.mirrored ? \"scale(-1, 1)\" : null}\n    >\n      ${t.weightsMap.get((a = this.weight) != null ? a : \"regular\")}\n    </svg>`;\n  }\n};\nt.weightsMap = /* @__PURE__ */ new Map([\n  [\n    \"thin\",\n    e`<path d=\"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z\"/>`\n  ],\n  [\n    \"light\",\n    e`<path d=\"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z\"/>`\n  ],\n  [\n    \"regular\",\n    e`<path d=\"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z\"/>`\n  ],\n  [\n    \"bold\",\n    e`<path d=\"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z\"/>`\n  ],\n  [\n    \"fill\",\n    e`<path d=\"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z\"/>`\n  ],\n  [\n    \"duotone\",\n    e`<path d=\"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z\" opacity=\"0.2\"/><path d=\"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z\"/>`\n  ]\n]);\nt.styles = f`\n    :host {\n      display: contents;\n    }\n  `;\no([\n  l({ type: String, reflect: !0 })\n], t.prototype, \"size\", 2);\no([\n  l({ type: String, reflect: !0 })\n], t.prototype, \"weight\", 2);\no([\n  l({ type: String, reflect: !0 })\n], t.prototype, \"color\", 2);\no([\n  l({ type: Boolean, reflect: !0 })\n], t.prototype, \"mirrored\", 2);\nt = o([\n  g(\"ph-arrow-clockwise\")\n], t);\nexport {\n  t as PhArrowClockwise\n};\n", ":host {\n  display: flex;\n  flex-grow: 1;\n}\n\n.header {\n  padding: var(--spacing-m, $spacing-m) var(--spacing-l, $spacing-l);\n  background: var(--background-color-primary, background-color('primary'));\n  text-align: end;\n  transition: opacity 0.2s;\n\n  &.hidden button {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  button {\n    background-color: transparent;\n    border: none;\n    cursor: pointer;\n    display: inline-flex;\n    align-items: center;\n    gap: var(--spacing-xs, $spacing-xs);\n    color: var(--text-color-tertiary, text-color('tertiary'));\n    font-size: var(--font-size-sm, $font-size-sm);\n    transition: color 0.2s;\n    padding: var(--spacing-2xs, $spacing-2xs) var(--spacing-xs, $spacing-xs);\n    transition: background-color 0.2s;\n    border-radius: var(--radius-s, $radius-s);\n\n    &:hover {\n      color: var(--text-color-tertiary, text-color('tertiary'));\n      background-color: var(--background-color-tertiary, background-color('tertiary'));\n    }\n  }\n}\n", "import { Component, Host, h, Prop, Watch, State, Element, type EventEmitter, Event } from '@stencil/core'\nimport { chatContext } from '@/context/chatContext'\nimport { ChatService } from '@/services/ChatService'\nimport { generateRandomID, initOramaClient, validateCloudIndexConfig } from '@/utils/utils'\nimport type {\n  ChatMarkdownLinkHref,\n  ChatMarkdownLinkTarget,\n  ChatMarkdownLinkTitle,\n  CloudIndexConfig,\n  OnAnswerGeneratedCallbackProps,\n  OnAnswerSourceClickCallbackProps,\n  OnChatMarkdownLinkClickedCallbackProps,\n  SourcesMap,\n} from '@/types'\nimport type { OramaClient } from '@oramacloud/client'\nimport '@phosphor-icons/webcomponents/dist/icons/PhArrowClockwise.mjs'\nimport type { AnyOrama, Orama } from \"@orama/orama\"\n\n@Component({\n  tag: 'orama-chat-box',\n  styleUrl: 'orama-chat-box.scss',\n  shadow: true,\n})\nexport class ChatBox {\n  @Element() el: HTMLElement\n  @Prop() index?: CloudIndexConfig\n  @Prop() clientInstance?: OramaClient | AnyOrama\n  @Prop() sourceBaseUrl?: string\n  @Prop() linksTarget?: string\n  @Prop() linksRel?: string\n  @Prop() placeholder?: string\n  @Prop() sourcesMap?: SourcesMap\n  @Prop() suggestions?: string[]\n  @Prop() autoFocus = true\n  @Prop() systemPrompts?: string[]\n  @Prop() chatMarkdownLinkTitle?: ChatMarkdownLinkTitle\n  @Prop() chatMarkdownLinkHref?: ChatMarkdownLinkHref\n  @Prop() chatMarkdownLinkTarget?: ChatMarkdownLinkTarget\n\n  @State() componentID = generateRandomID('chat-box')\n\n  /**\n   * Fired when answer generation is successfully completed\n   */\n  @Event({ bubbles: true, composed: true }) answerGenerated: EventEmitter<OnAnswerGeneratedCallbackProps>\n  /**\n   * Fired when user clicks on answer source\n   */\n  @Event({ bubbles: true, composed: true, cancelable: true })\n  answerSourceClick: EventEmitter<OnAnswerSourceClickCallbackProps>\n  /**\n   * Fired when user clicks on chat markdown link\n   */\n  @Event({ bubbles: true, composed: true, cancelable: true })\n  chatMarkdownLinkClicked: EventEmitter<OnChatMarkdownLinkClickedCallbackProps>\n\n  @Watch('index')\n  indexChanged() {\n    this.startChatService()\n  }\n\n  componentWillLoad() {\n    this.el.id = this.componentID\n    this.startChatService()\n  }\n\n  startChatService() {\n    validateCloudIndexConfig(this.el, this.index, this.clientInstance)\n    const oramaClient = this.clientInstance || initOramaClient(this.index)\n\n    chatContext.chatService = new ChatService(oramaClient)\n  }\n\n  render() {\n    if (!chatContext.chatService) {\n      return <orama-text as=\"p\">Unable to initialize chat service</orama-text>\n    }\n\n    return (\n      // * Note: only dark theme supported at the moment\n      <Host class=\"theme-dark\">\n        <orama-chat\n          placeholder={this.placeholder}\n          sourceBaseUrl={this.sourceBaseUrl}\n          sourcesMap={this.sourcesMap}\n          suggestions={this.suggestions}\n          focusInput={this.autoFocus}\n          systemPrompts={this.systemPrompts}\n          chatMarkdownLinkTitle={this.chatMarkdownLinkTitle}\n          chatMarkdownLinkHref={this.chatMarkdownLinkHref}\n        >\n          <div slot=\"chat-empty-state\">\n            <slot name=\"empty-state\" />\n          </div>\n        </orama-chat>\n      </Host>\n    )\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAI,IAAI,OAAO;AAAf,IAA+B,IAAI,OAAO;AAA1C,IAAoE,IAAI,CAAC,GAAGA,IAAGC,IAAG,MAAM;AACtF,WAAS,IAAI,IAAI,IAAI,SAAS,IAAI,EAAED,IAAGC,EAAC,IAAID,IAAG,IAAI,EAAE,SAAS,GAAG,GAAG,KAAK,GAAG;AAC1E,KAAC,IAAI,EAAE,CAAC,OAAO,KAAK,IAAI,EAAEA,IAAGC,IAAG,CAAC,IAAI,EAAE,CAAC,MAAM;AAChD,SAAO,KAAK,KAAK,EAAED,IAAGC,IAAG,CAAC,GAAG;AAC/B;AACA,IAAI,IAAI,cAAcC,EAAE;EACtB,cAAc;AACZ,UAAM,GAAG,SAAS,GAAG,KAAK,OAAO,OAAO,KAAK,SAAS,WAAW,KAAK,QAAQ,gBAAgB,KAAK,WAAW;EAClH;EACE,SAAS;AACP,QAAI;AACJ,WAAOC;;eAEI,KAAK,IAAI;gBACR,KAAK,IAAI;cACX,KAAK,KAAK;;kBAEN,KAAK,WAAW,iBAAiB,IAAI;;QAE/C,EAAE,WAAW,KAAK,IAAI,KAAK,WAAW,OAAO,IAAI,SAAS,CAAC;;EAEnE;AACA;AACA,EAAE,aAA6B,oBAAI,IAAI;EACrC;IACE;IACAC;EACJ;EACE;IACE;IACAA;EACJ;EACE;IACE;IACAA;EACJ;EACE;IACE;IACAA;EACJ;EACE;IACE;IACAA;EACJ;EACE;IACE;IACAA;EACJ;AACA,CAAC;AACD,EAAE,SAASC;;;;;AAKX,EAAE;EACAC,EAAE,EAAE,MAAM,QAAQ,SAAS,KAAE,CAAE;AACjC,GAAG,EAAE,WAAW,QAAQ,CAAC;AACzB,EAAE;EACAA,EAAE,EAAE,MAAM,QAAQ,SAAS,KAAE,CAAE;AACjC,GAAG,EAAE,WAAW,UAAU,CAAC;AAC3B,EAAE;EACAA,EAAE,EAAE,MAAM,QAAQ,SAAS,KAAE,CAAE;AACjC,GAAG,EAAE,WAAW,SAAS,CAAC;AAC1B,EAAE;EACAA,EAAE,EAAE,MAAM,SAAS,SAAS,KAAE,CAAE;AAClC,GAAG,EAAE,WAAW,YAAY,CAAC;AAC7B,IAAI,EAAE;EACJC,EAAE,oBAAoB;AACxB,GAAG,CAAC;AC1EJ,IAAM,kBAAkB;AACxB,IAAA,qBAAe;ICsBF,UAAO,MAAA;;;;;;;;;;;;;;qBAUE;;;;;uBAMG,iBAAiB,UAAU;;EAkBlD,eAAY;AACV,SAAK,iBAAgB;;EAGvB,oBAAiB;AACf,SAAK,GAAG,KAAK,KAAK;AAClB,SAAK,iBAAgB;;EAGvB,mBAAgB;AACd,6BAAyB,KAAK,IAAI,KAAK,OAAO,KAAK,cAAc;AACjE,UAAM,cAAc,KAAK,kBAAkB,gBAAgB,KAAK,KAAK;AAErE,gBAAY,cAAc,IAAI,YAAY,WAAW;;EAGvD,SAAM;AACJ,QAAI,CAAC,YAAY,aAAa;AAC5B,aAAO,EAAA,cAAA,EAAY,IAAG,IAAG,GAAA,mCAAA;;AAG3B;;MAEE,EAAC,MAAI,EAAC,OAAM,aAAY,GACtB,EAAA,cAAA,EACE,aAAa,KAAK,aAClB,eAAe,KAAK,eACpB,YAAY,KAAK,YACjB,aAAa,KAAK,aAClB,YAAY,KAAK,WACjB,eAAe,KAAK,eACpB,uBAAuB,KAAK,uBAC5B,sBAAsB,KAAK,qBAAoB,GAE/C,EAAA,OAAA,EAAK,MAAK,mBAAkB,GAC1B,EAAA,QAAA,EAAM,MAAK,cAAa,CAAA,CAAG,CACvB,CACK;;;;;;;;;;;;;",
  "names": ["s", "h", "m", "n", "e", "f", "l", "g"]
}
